# Kabaadi and Co - Sell Your Scrap Online

A web application connecting users with local scrap dealers (kabaadiwalas) in India. The platform helps users sell paper, plastics, metals, and e-waste with AI-powered features for scrap identification and value calculation.

## Overview

**Project Type:** Frontend web application  
**Framework:** Vite + Vanilla JavaScript  
**AI Integration:** Google Gemini AI (client-side)  
**Deployment:** Netlify (or any static hosting)  
**Current Status:** ✅ Running and configured for Netlify deployment

## Recent Changes (October 2025)

### Netlify Deployment Setup
- **Client-side AI integration**: Uses Gemini AI SDK directly in the browser with Vite environment variables
- **Environment variables**: API key is managed through Netlify environment variables (prefixed with VITE_)
- **Static hosting ready**: No backend required, fully static site with client-side AI features
- **Vite configuration**: Configured for Replit development with allowedHosts and proper HMR settings

## Project Architecture

### File Structure
```
.
├── index.html              # Main HTML file
├── script.js               # Frontend JavaScript with Gemini AI integration
├── styles.css             # Custom styles
├── vite.config.ts         # Vite configuration
├── netlify.toml           # Netlify deployment configuration
├── package.json           # Dependencies and scripts
├── .env.example           # Example environment variables
└── dist/                  # Built files (generated by build)
```

### How It Works

**Development Mode (Replit):**
- Vite dev server on port 5000
- Reads `VITE_GEMINI_API_KEY` from environment
- HMR enabled for live updates

**Production Mode (Netlify):**
- Static files served from `dist/` folder
- Environment variable `VITE_GEMINI_API_KEY` injected at build time by Netlify
- All AI features work client-side using Gemini AI SDK

## Features

1. **AI Chatbot**: Answers questions about scrap prices and processes
2. **Scrap Identifier**: Upload photo to identify scrap type and get price estimate
3. **Value Calculator**: Calculate estimated value and environmental impact
4. **Contact Form**: Schedule pickup with local kabaadiwala
5. **Responsive Design**: Mobile-friendly interface with Tailwind CSS

## Environment Variables

**Required for production:**
- `VITE_GEMINI_API_KEY` - Google Gemini API key for AI features

**Note:** The `VITE_` prefix is required for Vite to expose the variable to the client-side code.

## Development (Replit)

1. Set environment variable in Replit Secrets:
   - Key: `VITE_GEMINI_API_KEY`
   - Value: Your Gemini API key from https://ai.google.dev/

2. Run development server:
   ```bash
   npm run dev
   ```

The app will be available at the Replit webview.

## Netlify Deployment

### Step 1: Connect Repository
1. Push your code to GitHub
2. Go to Netlify and click "Add new site"
3. Connect your GitHub repository

### Step 2: Configure Build Settings
Netlify will auto-detect the settings from `netlify.toml`:
- Build command: `npm run build`
- Publish directory: `dist`

### Step 3: Set Environment Variable
1. Go to Site settings → Environment variables
2. Add variable:
   - Key: `VITE_GEMINI_API_KEY`
   - Value: Your Gemini API key

### Step 4: Deploy
Click "Deploy site" and Netlify will build and deploy your app!

## Local Development (Outside Replit)

1. Clone the repository
2. Install dependencies:
   ```bash
   npm install
   ```
3. Create a `.env` file (copy from `.env.example`):
   ```bash
   cp .env.example .env
   ```
4. Add your Gemini API key to `.env`:
   ```
   VITE_GEMINI_API_KEY=your_actual_api_key
   ```
5. Start development server:
   ```bash
   npm run dev
   ```

## User Preferences

- Use Netlify environment variables for API key management
- No backend server required - fully static deployment
- Maintain responsive design for mobile users
- Use Indian Rupee (₹) for pricing

## Dependencies

**Production:**
- `@google/genai` - Google Gemini AI SDK

**Development:**
- `vite` - Frontend build tool
- `typescript` - Type checking
- `@types/node` - Node.js TypeScript types

## Security Note

The Gemini API key is exposed in the client-side code when using Vite environment variables. For production use:
- Consider implementing usage limits on your Gemini API key
- Use Google Cloud's API key restrictions to limit the key to your domain
- Monitor API usage in Google Cloud Console

For more sensitive applications, consider using a serverless backend (Netlify Functions, Vercel Functions) to keep the API key secure.

## Notes

- The app uses Tailwind CSS via CDN
- Images are served from picsum.photos (placeholder service)
- Mock responses are provided when API key is not configured
- Chat sessions are stored in browser memory (will reset on page refresh)
